<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="title">Dashboard</ui:define>

    <ui:define name="head">
        <h:outputScript name="js/chart.js" library="demo" />
        <script type="text/javascript">
        //<![CDATA[
               $(function () {
                    var sliderow = $('.slide-row');
                    var activeIndex = 0;
                    var slideItemLength = sliderow.children('.slide').length;

                    $('.slide-button').on('click', function (e) {
                        var button = $(this);

                        if (button.hasClass('right-button')) {
                            if (slideItemLength > (activeIndex + 1)) {
                                activeIndex++;
                                sliderow.css('transform', 'translate3d(' + -1 * (100 * activeIndex) + '%, 0, 0)');
                            }
                        } 
                        else if (button.hasClass('left-button')) {
                            if (0 < activeIndex) {
                                activeIndex--;
                                sliderow.css('transform', 'translate3d(' + -1 * (100 * activeIndex) + '%, 0, 0)');
                            }
                        } 
                        e.preventDefault();
                    });
                });
                 $(function () {
                    var dataSet = [
                        [20, 40, 20, 70, 20, 49, 30],
                        [2, 4, 9, 20, 16, 12, 20],
                    ];
                    var dataSet2 = [
                        [5, 19,10, 10, 22, 14, 10],
                        [2, 2, 20, 4, 17, 16, 12],
                    ];

                    $('#order-tabs-container > .order-tab').on('click', function() {
                        var el = $(this);
                        el.addClass('order-tab-active').siblings('.order-tab-active').removeClass('order-tab-active');
                        ordersChart.data.datasets[0].data = dataSet[parseInt(el.data('index'))];
                        ordersChart.data.datasets[1].data = dataSet2[parseInt(el.data('index'))];
                        ordersChart.data.datasets[0].label = el.data('label');
                        ordersChart.data.datasets[0].borderColor = el.data('stroke');
                        ordersChart.update();
                    });

                    var ordersChart = new Chart(document.getElementById("order-chart").getContext('2d'), {
                        type: 'bar',
                    data: {
                        labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
                        datasets: [{
                            label: 'Revenue',
                            data: [20, 40, 20, 70, 20, 49, 30],
                            backgroundColor:'rgba(57, 132, 184, .7)',
                            borderWidth: 0,
                            fill: false,
                        }, {
                            label: 'Dislike',
                            data: [5, 19,10, 10, 22, 14, 10],
                            backgroundColor: 'rgba(57, 184, 182, .7)',
                            borderWidth: 0,
                            fill: false,
                        },
                        {
                            label: 'Revenue',
                            data: [45, 80, 70, 90, 30, 90, 50],
                            backgroundColor:'rgba(186, 214, 56, .7)',
                            borderWidth: 0,
                            fill: false,
                        }]
                    },
                    options: {
                        legend: {
                            display: false,
                            labels: {
                                fontColor: '#c3ccdd'
                            }
                        },
                        maintainAspectRatio: false,
                        hover: {
                            mode: 'index'
                        },
                        scales: {
                            xAxes: [{
                                display: true,
                                stacked: true,
                                barPercentage: 0.5
                            }],
                            yAxes: [{
                                display: true,
                                stacked: true
                            }]
                        }
                    }
                });
            });
        //]]>
        </script>
    </ui:define>

    <ui:define name="content">
        <div class="grid dashboard">
            <div class="col-6 md:col-4 xl:col-2">
                <div class="card overview-box blue">
                   <i class="pi pi-globe"></i>
                   <h5>
                   	<p:outputLabel value="#{message.globallistings}"/>
                   </h5>
                   <span>4 
                   	<p:outputLabel value="#{message.activelistings}"/>
                   </span>
                </div>
            </div>
            <div class="col-6 md:col-4 xl:col-2">
                <div class="card overview-box green">
                   <i class="pi pi-dollar"></i>
                   <h5>Today's Sales</h5>
                   <span>$784.00 sales so far</span>
                </div>
            </div>
            <div class="col-6 md:col-4 xl:col-2">
                <div class="card overview-box orange">
                   <i class="pi pi-tag"></i>
                   <h5>Open Orders</h5>
                   <span>14 Pending Orders</span>
                </div>
            </div>
            <div class="col-6 md:col-4 xl:col-2">
                <div class="card overview-box lime">
                   <i class="pi pi-money-bill"></i>
                   <h5>Total Balance</h5>
                   <span>$87,974.00</span>
                </div>
            </div>
            <div class="col-6 md:col-4 xl:col-2">
                <div class="card overview-box purple">
                   <i class="pi pi-envelope"></i>
                   <h5>Buyer Messages</h5>
                   <span>1 Unread Message</span>
                </div>
            </div>
            <div class="col-6 md:col-4 xl:col-2">
                <div class="card overview-box turquoise">
                   <i class="pi pi-desktop"></i>
                   <h5>Today's Sessions</h5>
                   <span>1028 sessions so far</span>
                </div>
            </div>
            <div class="col-12 xl:col-8">
                <div class="card revenue-graph">
                    <div class="card-header">
                        <h5>Total Revenue</h5>
                        <div id="order-tabs-container" class="order-tabs">
                            <div class="order-tab order-tab-active" data-label="New Sales" data-index="0" data-stroke="#3984b8" >
                                <h6>Week</h6>
                            </div>
                            <div class="order-tab " data-label="Previous Sales" data-index="1" data-stroke="#BAD638">
                                <h6>Month</h6>
                            </div>
                        </div>
                    </div>
                    <div class="overview-chart">
                        <canvas id="order-chart" style="min-height: 450px;"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-12 xl:col-4">
                <div class="card slider-list">
                    <div class="card-header">
                        <h5>Best Selling Products</h5>
                        <p:commandButton type="button" value="View More" styleClass="ui-button-outlined" />
                    </div>
                    <div class="slide-row-wrapper">
                        <div class="slide-row">
                            <div class="slide ">
                                <div class="item-content">
                                    <p:graphicImage name="images/product/bamboo-watch.jpg" library="demo" />
                                    <span class="product-badge status-instock">In Stock</span>
                                    <div class="item-info">
                                        <h5>Bamboo Watch</h5>
                                        <span>Accessories</span>
                                    </div>
                                    <p:commandButton type="button" value="View This Item" styleClass="ui-button-outlined" />
                                </div>
                            </div>
                            <div class="slide ">
                                <div class="item-content">
                                    <p:graphicImage name="images/product/black-watch.jpg" library="demo" />
                                    <span class="product-badge status-instock">In Stock</span>
                                    <div class="item-info">
                                        <h5>Black Watch</h5>
                                        <span>Accessories</span>
                                    </div>
                                    <p:commandButton type="button" value="View This Item" styleClass="ui-button-outlined" />
                                </div>
                            </div>
                            <div class="slide ">
                                <div class="item-content">
                                    <p:graphicImage name="images/product/brown-purse.jpg" library="demo" />
                                    <span class="product-badge status-instock">In Stock</span>
                                    <div class="item-info">
                                        <h5>Brown Purse</h5>
                                        <span>Accessories</span>
                                    </div>
                                    <p:commandButton type="button" value="View This Item" styleClass="ui-button-outlined" />
                                </div>
                            </div>
                            <div class="slide ">
                                <div class="item-content">
                                    <p:graphicImage name="images/product/galaxy-earrings.jpg" library="demo" />
                                    <span class="product-badge status-instock">In Stock</span>
                                    <div class="item-info">
                                        <h5>Galaxy Earrings</h5>
                                        <span>Accessories</span>
                                    </div>
                                    <p:commandButton type="button" value="View This Item" styleClass="ui-button-outlined" />
                                </div>
                            </div>
                            <div class="slide ">
                                <div class="item-content">
                                    <p:graphicImage name="images/product/teal-t-shirt.jpg" library="demo" />
                                    <span class="product-badge status-instock">In Stock</span>
                                    <div class="item-info">
                                        <h5>Teal T-shirt</h5>
                                        <span>Clothing</span>
                                    </div>
                                    <p:commandButton type="button" value="View This Item" styleClass="ui-button-outlined" />
                                </div>
                            </div>
                            <div class="slide">
                                <div class="item-content">
                                    <p:graphicImage name="images/product/game-controller.jpg" library="demo" />
                                    <span class="product-badge status-instock">In Stock</span>
                                    <div class="item-info">
                                        <h5>Game Controller</h5>
                                        <span>Electronics</span>
                                    </div>
                                    <p:commandButton type="button" value="View This Item" styleClass="ui-button-outlined" />
                                </div>
                            </div>
                        </div>
                        <div class="link-points">
                            <div class="points">
                                <div class="left-button slide-button">
                                    <i class="pi pi-arrow-left"></i>
                                </div>
                                <div class="right-button slide-button">
                                    <i class="pi pi-arrow-right"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 xl:col-6">
                <div class="grid">
                    <div class="col-12 md:col-6">
                        <div class="card status-box up">
                            <div class="status-info">
                                <h5>Conversion Rate</h5>
                                <span><i class="pi pi-arrow-up"></i> 2.3% more</span>
                            </div>
                            <h3>22.6%</h3>
                        </div>
                    </div>
                    <div class="col-12 md:col-6">
                        <div class="card status-box down">
                            <div class="status-info">
                                <h5>Sales This Week</h5>
                                <span><i class="pi pi-arrow-down"></i> 12.3% less</span>
                            </div>
                            <h3>189</h3>
                        </div>
                    </div>
                    <div class="col-12 md:col-6">
                        <div class="card status-box up">
                            <div class="status-info">
                                <h5>Active Customers</h5>
                                <span><i class="pi pi-arrow-up"></i> 19.6% more</span>
                            </div>
                            <h3>8272</h3>
                        </div>
                    </div>
                    <div class="col-12 md:col-6">
                        <div class="card status-box up">
                            <div class="status-info">
                                <h5>Active Products</h5>
                                <span><i class="pi pi-arrow-up"></i> 4.3% more</span>
                            </div>
                            <h3>4890</h3>
                        </div>
                    </div>
                
                    <div class="col-12">
                        <div class="card summary">
                            <div class="card-header">
                                <h5>Finance Summary</h5>
                                <p:commandButton type="button" value="View More" styleClass="ui-button-outlined" />
                            </div>
                            <div class="grid grid-nogutter">
                                <div class="col-6 md:col-4">
                                    <div class="summary-item colored">
                                        <h6>Total Balance (All Accounts)</h6>
                                        <h4>$87,974.00</h4>
                                    </div>
                                </div>
                                <div class="col-6 md:col-4">
                                    <div class="summary-item">
                                        <h6>Total Sales (Month)</h6>
                                        <h4>$23,038.12</h4>
                                    </div>
                                </div>
                                <div class="col-6 md:col-4">
                                    <div class="summary-item">
                                        <h6>Refunds (Month)</h6>
                                        <h4>$490.31</h4>
                                    </div>
                                </div>
                                <div class="col-6 md:col-4">
                                    <div class="summary-item">
                                        <h6>Funds Available</h6>
                                        <h4>$32,038.12</h4>
                                    </div>
                                </div>
                                <div class="col-6 md:col-4">
                                    <div class="summary-item">
                                        <h6>Avarage Product Price</h6>
                                        <h4>$129.90</h4>
                                    </div>
                                </div>
                                <div class="col-6 md:col-4">
                                    <div class="summary-item">
                                        <h6>Satisfaction Rate</h6>
                                        <p:rating value="4" readonly="true"/>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 xl:col-6">
                <div class="card payments">
                    <div class="card-header">
                        <h5>Latest Payments</h5>
                        <p:commandButton type="button" value="View More" styleClass="ui-button-outlined" />
                    </div>
                    <ul>
                        <li>
                            <div class="progress">
                                <p:progressBar value="60" displayOnly="true" />
                                <span>Proce­ssing</span>
                            </div>
                            <div class="payment-amount">
                                <h6>Payment Amount</h6>
                                <h5>$3,518.99</h5>
                            </div>
                            <div class="payment-status">
                                <h6>Payment Status</h6>
                                <h5><i class="pi pi-info-circle"></i> Started</h5>
                            </div>
                        </li>
                       
                        <li >
                            <div class="progress">
                                <p:progressBar value="80" displayOnly="true" />
                                <span>Sent to bank</span>
                            </div>
                            <div class="payment-amount">
                                <h6>Payment Amount</h6>
                                <h5>$2,124.66</h5>
                            </div>
                            <div class="payment-status">
                                <h6>Payment Status</h6>
                                <h5><i class="pi pi-info-circle"></i> Started</h5>
                            </div>
                        </li>

                        <li class="done">
                            <div class="progress">
                                <p:progressBar value="100" displayOnly="true" />
                                <span>Ackno­wledge­d by bank</span>
                            </div>
                            <div class="payment-amount">
                                <h6>Payment Amount</h6>
                                <h5>$1,952.20</h5>
                            </div>
                            <div class="payment-status">
                                <h6>Payment Status</h6>
                                <h5><i class="pi pi-check"></i> Done</h5>
                            </div>
                        </li>

                        <li class="done">
                            <div class="progress">
                                <p:progressBar value="100" displayOnly="true" />
                                <span>Ackno­wledge­d by bank</span>
                            </div>
                            <div class="payment-amount">
                                <h6>Payment Amount</h6>
                                <h5>$1,952.20</h5>
                            </div>
                            <div class="payment-status">
                                <h6>Payment Status</h6>
                                <h5><i class="pi pi-check"></i> Done</h5>
                            </div>
                        </li>

                        <li class="done">
                            <div class="progress">
                                <p:progressBar value="100" displayOnly="true" />
                                <span>Ackno­wledge­d by bank</span>
                            </div>
                            <div class="payment-amount">
                                <h6>Payment Amount</h6>
                                <h5>$1,952.20</h5>
                            </div>
                            <div class="payment-status">
                                <h6>Payment Status</h6>
                                <h5><i class="pi pi-check"></i> Done</h5>
                            </div>
                        </li>

                        <li class="done">
                            <div class="progress">
                                <p:progressBar value="100" displayOnly="true" />
                                <span>Ackno­wledge­d by bank</span>
                            </div>
                            <div class="payment-amount">
                                <h6>Payment Amount</h6>
                                <h5>$1,952.20</h5>
                            </div>
                            <div class="payment-status">
                                <h6>Payment Status</h6>
                                <h5><i class="pi pi-check"></i> Done</h5>
                            </div>
                        </li>
                       
                    </ul>
                </div>
            </div>
            <div class="col-12  xl:col-4">
                <div class="card tasks">
                    <div class="card-header">
                        <h5>Tasks</h5>
                        <p:commandButton type="button" value="Add New" icon="pi pi-plus" styleClass="ui-button-outlined" />
                    </div>
                    <ul>
                        <li>
                            <span class="task" >Restock Inventory</span>
                            <span>03 Sep, 2020</span>
                            <div class="category blue">
                                <span>Admin</span> 
                            </div>
                        </li>
                        <li>
                            <span class="task">Design Mockups</span>
                            <span>03 Sep, 2020</span>
                            <div class="category orange">
                                <span>Project</span> 
                            </div>
                        </li>
                        <li>
                            <span class="task">Conference</span>
                            <span>03 Sep, 2020</span>
                            <div class="category purple">
                                <span>Event</span> 
                            </div>
                        </li>
                        <li>
                            <span class="task">Hire Add Manager</span>
                            <span>03 Sep, 2020</span>
                            <div class="category orange">
                                <span>Admin</span> 
                            </div>
                        </li>
                        <li>
                            <span class="task">Bussiness Meeting</span>
                            <span>03 Sep, 2020</span>
                            <div class="category purple">
                                <span>Event</span> 
                            </div>
                        </li>
                        <li>
                            <span class="task">Hire Add Manager</span>
                            <span>03 Sep, 2020</span>
                            <div class="category green">
                                <span>Managment</span> 
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-12 xl:col-8">
                <div class="card sales">
                    <div class="card-header">
                        <h4>Recent Sales</h4>
                        <p:selectOneMenu value="#{dashboardView.productWeek}" styleClass="dashbard-demo-dropdown" style="min-width: 8rem">
                            <f:selectItem itemLabel="This Week" itemValue="#{0}"></f:selectItem>
                            <f:selectItem itemLabel="Last Week" itemValue="#{1}"></f:selectItem>
                            <p:ajax listener="#{dashboardView.loadProducts}" update="productsTable" />
                        </p:selectOneMenu>
                    </div>

                    <p>Your sales activity over time.</p>

                    <p:dataTable id="productsTable" var="product" value="#{dashboardView.products}" reflow="true" paginatorPosition="bottom"
                                 rowKey="#{product.id}" paginator="true" rows="5" >
                        <p:column headerText="Id" sortBy="#{product.id}">
                            <h:outputText value="#{product.id}" />
                        </p:column>

                        <p:column headerText="Category" sortBy="#{product.category}">
                            <h:outputText value="#{product.category}" />
                        </p:column>

                        <p:column headerText="Price" sortBy="#{product.price}">
                            <h:outputText value="#{product.price}">
                                <f:convertNumber currencySymbol="$" type="currency" />
                            </h:outputText>
                        </p:column>

                        <p:column headerText="Status" sortBy="#{product.inventoryStatus}">
                            <span class="product-badge status-#{product.inventoryStatus.name().toLowerCase()}">#{product.inventoryStatus}</span>
                        </p:column>

                        <p:column style="text-align: center">
                            <p:commandButton icon="pi pi-search" />
                        </p:column>
                    </p:dataTable>
                </div>
            </div>          
        </div>
    </ui:define>

</ui:composition>