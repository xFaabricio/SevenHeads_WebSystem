<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <div id="layout-config" class="layout-config">
        <div class="layout-config-content">
            <a href="#" id="layout-config-button" class="layout-config-button">
                <i class="pi pi-cog"></i>
            </a>
            <h:form id="config-form" styleClass="layout-config-form">
                <div class="layout-config-header">
                    <h3>Theme Customization</h3>
                    <span>Paradise offers different themes for layout, topbar, menu etc.</span>
                </div>

                <p:outputPanel id="menumodes-panel" styleClass="layout-config-section options">
                    <span class="section-name">Menu Mode</span>
                    <div class="grid layout-config-options">
                        <p:selectOneRadio layout="responsive" columns="2" value="#{guestPreferences.menuMode}"
                                          onchange="PrimeFaces.ParadiseConfigurator.changeMenuMode(event.target.value)">
                            <f:selectItem itemLabel="Static" itemValue="layout-menu-static"/>
                            <f:selectItem itemLabel="Overlay" itemValue="layout-menu-overlay"/>
                            <f:selectItem itemLabel="Slim" itemValue="layout-menu-slim"/>
                            <p:ajax update="menumodes-panel"/>
                        </p:selectOneRadio>
                    </div>
                </p:outputPanel>

                <p:outputPanel id="lightdark-panel" styleClass="layout-config-section dark">
                    <span class="section-name">Dark Menu</span>
                    <p:inputSwitch id="layout-switch-2" value="#{guestPreferences.darkMenu}"
                                   onchange="PrimeFaces.ParadiseConfigurator.changeMenuToDark()">
                        <p:ajax onstart="PrimeFaces.ParadiseConfigurator.beforeResourceChange()" update="config-form"/>
                    </p:inputSwitch>
                </p:outputPanel>
				
				<p:outputPanel id="lightdark-theme-panel" styleClass="layout-config-section dark">
                    <span class="section-name">Dark Theme</span>
                    <p:inputSwitch id="layout-theme-switch-2" value="#{guestPreferences.darkTheme}"
                                   onchange="PrimeFaces.ParadiseConfigurator.changeMenuToDarkTheme(), updateTopbar();">
						<p:remoteCommand name="updateTopbar" action="#{guestPreferences.updateTopbar()}"/>
                        <p:ajax onstart="PrimeFaces.ParadiseConfigurator.beforeResourceChange()" update="config-form"/>
                    </p:inputSwitch>                                        
                </p:outputPanel>
				
                <p:outputPanel id="outlined-panel" styleClass="layout-config-section options">
                    <span class="section-name">Form Type</span>
                    <div class="grid layout-config-options">
                        <p:selectOneRadio layout="responsive" columns="2" value="#{guestPreferences.inputStyle}"
                                          onchange="PrimeFaces.ParadiseConfigurator.updateInputStyle(event.target.value)">
                            <f:selectItem itemLabel="Outlined" itemValue="outlined"/>
                            <f:selectItem itemLabel="Filled" itemValue="filled"/>
                            <p:ajax/>
                        </p:selectOneRadio>
                    </div>
                </p:outputPanel>

                <p:outputPanel id="specialLayouts-panel" styleClass="layout-config-section colors">
                    <span class="section-name">Special Layouts</span>
                    <div class="grid layout-config-colors">
                        <ui:repeat value="#{guestPreferences.specialLayouts}" var="layoutColor">
                            <div class="col col-fixed">
                                <p:commandLink styleClass="layout-config-option"
                                               actionListener="#{guestPreferences.setLayout(layoutColor.file)}"
                                               onstart="PrimeFaces.ParadiseConfigurator.beforeResourceChange()"
                                               update=":config-form logolink"
                                               oncomplete="PrimeFaces.ParadiseConfigurator.changePrimaryColor('#{layoutColor.file}'), updateTopbar();">
                                    <span class="layout-config-option-color"
                                          style="background-image: linear-gradient(to right,#{layoutColor.color1},#{layoutColor.color2})"></span>
                                    <ui:fragment rendered="#{layoutColor.file eq guestPreferences.layout}">
                                        <span class="layout-config-option-check-mask">
                                            <i class="pi pi-check"></i>
                                        </span>
                                    </ui:fragment>
                                </p:commandLink>
                            </div>
                        </ui:repeat>
                    </div>
                </p:outputPanel>

                <p:outputPanel id="flatLayouts-panel" styleClass="layout-config-section colors">
                    <span class="section-name">Flat Layouts</span>
                    <div class="grid layout-config-colors">
                        <ui:repeat value="#{guestPreferences.flatLayouts}" var="layoutColor">
                            <div class="col col-fixed">
                                <p:commandLink styleClass="layout-config-option"
                                               actionListener="#{guestPreferences.setLayout(layoutColor.file)}"
                                               onstart="PrimeFaces.ParadiseConfigurator.beforeResourceChange()"
                                               update=":config-form logolink"
                                               oncomplete="PrimeFaces.ParadiseConfigurator.changePrimaryColor('#{layoutColor.file}')">
                                    <span class="layout-config-option-color"
                                          style="background-color: #{layoutColor.color};"></span>
                                    <ui:fragment
                                            rendered="#{layoutColor.file eq guestPreferences.layout}">
                                        <span class="layout-config-option-check-mask">
                                            <i class="pi pi-check"></i>
                                        </span>
                                    </ui:fragment>
                                </p:commandLink>
                            </div>
                        </ui:repeat>
                    </div>
                </p:outputPanel>

                <p:outputPanel id="componentthemes-panel" styleClass="layout-config-section colors">
                    <span class="section-name">Component Colors</span>
                    <div class="grid layout-config-colors">
                        <ui:repeat value="#{guestPreferences.componentThemes}" var="componentTheme">
                            <div class="col col-fixed">
                                <p:commandLink styleClass="layout-config-option"
                                               actionListener="#{guestPreferences.setTheme(componentTheme.file)}"
                                               update=":config-form"
                                               onstart="PrimeFaces.ParadiseConfigurator.beforeResourceChange()"
                                               oncomplete="PrimeFaces.ParadiseConfigurator.changeComponentsTheme('#{componentTheme.file}')">
                                    <span class="layout-config-option-color"
                                          style="background-color: #{componentTheme.color};"></span>
                                    <ui:fragment rendered="#{componentTheme.file eq guestPreferences.theme}">
                                        <span class="layout-config-option-check-mask">
                                            <i class="pi pi-check"></i>
                                        </span>
                                    </ui:fragment>
                                </p:commandLink>
                            </div>
                        </ui:repeat>
                    </div>
                </p:outputPanel>
            </h:form>
        </div>
    </div>
</ui:composition>